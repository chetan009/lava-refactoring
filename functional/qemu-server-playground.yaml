device_type: qemu
job_name: kvm-pipeline
timeouts:
  job:
    minutes: 45
  action:
    minutes: 5
priority: medium

actions:

    - deploy:
        timeout:
          minutes: 20
        to: tmpfs
        image: http://images.validation.linaro.org/kvm/large-sid.img.gz
        compression: gz
        os: debian
        root_partition: 1

    - boot:
        method: qemu
        media: tmpfs
        failure_retry: 2

    - test:
        failure_retry: 3
        name: kvm-basic-singlenode  # is not present, use "test $N"
        # only s, m & h are supported.
        timeout:
          minutes: 20
        definitions:
            - repository: http://git.linaro.org/lava-team/refactoring.git
              from: git
              path: functional/server-playground-unit-tests.yaml
              name: server-playground-unittests

    - submit_results:
        stream: /anonymous/codehelp/
