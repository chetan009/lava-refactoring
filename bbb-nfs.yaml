# Sample JOB definition for a u-boot job

device_type: beaglebone-black

job_name: nfs-bbb
timeouts:
  job:
    minutes: 15
  action:
    minutes: 5
  connection:
    minutes: 2
priority: medium
visibility: public

actions:
- deploy:
    timeout:
      minutes: 4
    to: tftp
    kernel: http://images.validation.linaro.org/functional-test-images/bbb/zImage
    nfsrootfs: http://images.validation.linaro.org/debian-jessie-rootfs.tar.gz
    rootfs_compression: gz
    os: debian
    dtb: http://images.validation.linaro.org/functional-test-images/bbb/am335x-bone.dtb
- boot:
   timeout:
     minutes: 3
   method: u-boot
   commands: nfs
   type: bootz
   prompts: ['root@linaro:']
   parameters:
     shutdown-message: "reboot: Restarting system"
- test:
   failure_retry: 3
   name: bbb-armmp-ramdisk-singlenode-intermediate
   timeout:
     minutes: 5
   definitions:
     - repository: git://git.linaro.org/qa/test-definitions.git
       from: git
       path: ubuntu/smoke-tests-basic.yaml
       name: smoke-tests
     - repository: http://git.linaro.org/lava-team/lava-functional-tests.git
       from: git
       path: lava-test-shell/single-node/singlenode02.yaml
       name: singlenode-intermediate
